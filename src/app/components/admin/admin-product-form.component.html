<div class="admin-product-form">
  <div class="form-card">
    <!-- Header -->
    <div class="form-header">
      <div>
        <h2>{{ isEdit ? 'Edit Product' : 'Create Product' }}</h2>
        <p class="form-subtitle">
          {{ isEdit ? 'Update the details of your product.' : 'Add a new product to your catalog.' }}
        </p>
      </div>

      <span class="mode-chip">
        {{ isEdit ? 'Edit Mode' : 'Create Mode' }}
      </span>
    </div>

    <!-- Loading & Error -->
    <div *ngIf="loading" class="form-banner loading-banner">
      <span class="spinner"></span>
      <span>Saving product, please wait...</span>
    </div>

    <div *ngIf="error" class="form-banner error-banner">
      ‚ö†Ô∏è {{ error }}
    </div>

    <!-- Form -->
    <form (ngSubmit)="submit()" novalidate>
      <!-- Name -->
      <div class="form-group">
        <label for="name">Product Name <span class="required">*</span></label>
        <input
          id="name"
          [(ngModel)]="name"
          name="name"
          required
          placeholder="e.g. Wireless Bluetooth Headphones"
        />
      </div>

      <!-- Description -->
      <div class="form-group">
        <label for="description">Description</label>
        <textarea
          id="description"
          [(ngModel)]="description"
          name="description"
          placeholder="Describe the product, features, and any key details."
        ></textarea>
      </div>

      <!-- Price & Stock side by side -->
      <div class="form-row">
        <div class="form-group">
          <label for="price">Price (‚Çπ) <span class="required">*</span></label>
          <input
            id="price"
            type="number"
            min="0"
            step="0.01"
            [(ngModel)]="price"
            name="price"
            required
            placeholder="e.g. 1499"
          />
        </div>

        <div class="form-group">
          <label for="stock">Stock Quantity <span class="required">*</span></label>
          <input
            id="stock"
            type="number"
            min="0"
            [(ngModel)]="stock"
            name="stock"
            required
            placeholder="e.g. 50"
          />
        </div>
      </div>

      <!-- Image Upload -->
      <div class="form-group">
        <label>Product Image</label>
        <label class="file-input">
          <input type="file" (change)="onFileChange($event)" />
          <span class="file-text">
            <span class="file-icon">üìÅ</span>
            <span>Click to upload or drag & drop product image</span>
          </span>
        </label>
        <p class="file-hint">Recommended: 800√ó800px, JPG or PNG, max 2MB.</p>
      </div>

      <!-- Existing Image Preview -->
      <div *ngIf="existingImageUrl" class="existing-image">
        <p>Current Image</p>
        <div class="image-preview-box">
          <img [src]="existingImageUrl" alt="Product Image" />
        </div>
      </div>

      <!-- Actions -->
      <div class="form-actions">
        <button
          type="submit"
          class="submit-btn"
          [disabled]="loading"
        >
          {{ isEdit ? 'Update Product' : 'Create Product' }}
        </button>

        <!-- Optional cancel button if you have a handler like goBack() -->
        <!--
        <button
          type="button"
          class="cancel-btn"
          (click)="goBack()"
          [disabled]="loading"
        >
          Cancel
        </button>
        -->
      </div>
    </form>
  </div>
</div>
